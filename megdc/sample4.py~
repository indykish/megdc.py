import argparse
import re
from install_method import install_pkg

ALPHANUMERIC_RE = re.compile(r'^[a-zA-Z][a-zA-Z0-9]*$')


def alphanumeric(s):
    """
    Enforces string to be alphanumeric with leading alpha.
    """
    if not ALPHANUMERIC_RE.match(s):
        raise argparse.ArgumentTypeError(
            'argument must start with a letter and contain only letters and numbers',
            )
    return s

def install(args):
     if args.y :
        print args.y
        install_pkg()

 #create the top-level parser
parser = argparse.ArgumentParser()
subparsers = parser.add_subparsers()

 #create the parser for the "foo" command
parser_foo = subparsers.add_parser('install', help='name of the package')

parser_foo.set_defaults(func=install)
parser_foo.add_argument( dest='y' type=alphanumeric)
args = parser.parse_args('install megam'.split())
args.func(args)
